
<!doctype html>
<html lang="id">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>SIPAMASE - SISTEM PELAYANAN MANDIRI SERTIFIKAT ELEKTRONIK</title>
	<style>
		:root {
			--bg:#0b0b0c;
			--panel:#ffffff;
			--muted:#d6d9de;
			--accent:#0b66ff;
			--accent-2:#0b4bd6;
			--radius:12px;
			font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
		}
		* { box-sizing:border-box }
		html, body {
			height:100%; margin:0;
			background:linear-gradient(180deg,var(--bg),#071022);
			color:var(--muted);
		}
		.container {
			max-width:980px;
			margin:36px auto;
			padding:28px;
		}
		header {
			display:flex;
			align-items:center;
			gap:18px;
			margin-bottom:20px;
		}
		.logo {
			width:64px; height:64px;
			border-radius:14px;
			overflow:hidden;
			box-shadow:0 6px 18px rgba(11,102,255,0.18);
			border:2px solid rgba(11,102,255,0.3);
		}
		.logo img {
			width:100%;
			height:100%;
			object-fit:cover;
			border-radius:12px;
		}
		h1 { margin:0; font-size:20px; color:var(--panel); font-weight:600 }
		p.lead { margin:0; color:var(--muted); opacity:0.9 }
		.card {
			background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
			border-radius:var(--radius);
			padding:20px;
			box-shadow:0 8px 30px rgba(2,6,23,0.6);
			border:1px solid rgba(255,255,255,0.04);
		}
		nav.topnav {
			display:flex;
			gap:10px;
			margin-top:18px;
		}
		.tab {
			background:transparent;
			border:1px solid rgba(255,255,255,0.06);
			color:var(--muted);
			padding:10px 14px;
			border-radius:10px;
			cursor:pointer;
		}
		.tab.active {
			background:linear-gradient(90deg, rgba(11,102,255,0.12), rgba(11,75,214,0.08));
			border-color:rgba(11,102,255,0.38);
			color:var(--panel);
			box-shadow:0 6px 24px rgba(11,102,255,0.08);
		}
		main {
			display:grid;
			grid-template-columns:1fr 360px;
			gap:18px;
			margin-top:18px;
		}
		form {
			display:flex;
			flex-direction:column;
			gap:12px;
		}
		label {
			font-size:13px;
			color:var(--muted);
		}
		input, select, textarea {
			padding:10px;
			border-radius:8px;
			border:1px solid rgba(255,255,255,0.06);
			background:rgba(255,255,255,0.02);
			color:var(--panel);
			outline:none;
		}
		textarea {
			min-height:100px;
			resize:vertical;
		}
		.btn {
			padding:10px 14px;
			border-radius:10px;
			border:none;
			cursor:pointer;
			font-weight:600;
		}
		.btn-primary {
			background:var(--accent);
			color:white;
		}
		.info {
			font-size:13px;
			color:var(--muted);
			padding:10px;
			border-radius:8px;
			background:rgba(11,102,255,0.04);
			border:1px solid rgba(255,255,255,0.02);
		}
		.info a {
			color:var(--accent);
			font-weight:700;
			text-decoration:none;
		}
		.info a:hover { text-decoration:underline }
		footer {
			margin-top:18px;
			font-size:13px;
			color:rgba(255,255,255,0.45);
			text-align:center;
		}
		@media (max-width:880px) {
			main { grid-template-columns:1fr; }
			.container { padding:16px; }
		}
	</style>
</head>
<body>
<div class="container">
	<header>
		<div class="logo">
						<img src="logo.png" alt="Logo SIPAMASE">
		</div>
		<div>
			<h1>SIPAMASE - SISTEM PELAYANAN MANDIRI SERTIFIKAT ELEKTRONIK</h1>
			<p class="lead">REGISTRASI - PERPANJANGAN - PENCABUTAN</p>
		</div>
	</header>

	<div class="card">
		<nav class="topnav">
			<button class="tab active" data-tab="registrasi">Registrasi</button>
			<button class="tab" data-tab="perpanjangan">Perpanjangan</button>
			<button class="tab" data-tab="pencabutan">Pencabutan</button>
		</nav>

		<main>
			<section>
								<div id="registrasi" class="tabpanel">
					<h2 style="color:var(--panel)">Form Registrasi</h2>
					<p class="info">MOHON ISI IDENTITAS DIRI DENGAN BENAR</p>
					<form id="form-registrasi">
						<label>Nama</label><input id="reg-nama" required>
						<label>NIP</label><input id="reg-nip" required>
						<label>NIK</label><input id="reg-nik" required>
						<label>Nomor Telepon</label><input id="reg-telepon" type="tel" required>
						<label>Upload Foto (foto formal dengan wajah yang jelas)</label><input type="file" id="reg-foto" accept="image/*">
						<button class="btn btn-primary" type="submit">Kirim Registrasi</button>
					</form>
				</div>

								<div id="perpanjangan" class="tabpanel" style="display:none">
					<h2 style="color:var(--panel)">Form Perpanjangan</h2>
					<form id="form-perpanjangan">
						<label>Nama</label><input id="per-nama" required>
						<label>NIP</label><input id="per-nip" required>
						<label>NIK</label><input id="per-nik" required>
						<button class="btn btn-primary" type="submit">Ajukan Perpanjangan</button>
					</form>
				</div>

								<div id="pencabutan" class="tabpanel" style="display:none">
					<h2 style="color:var(--panel)">Form Pencabutan</h2>
					<form id="form-pencabutan">
						<label>Nama</label><input id="cab-nama" required>
						<label>NIP</label><input id="cab-nip" required>
						<label>NIK</label><input id="cab-nik" required>
						<button class="btn btn-primary" type="submit">Ajukan Pencabutan</button>
					</form>
				</div>
			</section>

			<aside>
				<div class="card">
					<h3 style="color:var(--panel)">HARAP DIPERHATIKAN</h3>
					<p class="info" style="margin-bottom:8px;">Setelah selesai mendaftar, silakan klik nomor berikut untuk verifikasi melalui WhatsApp:</p>
					<p class="info">
						<a class="wa-link" href="https://wa.me/6285221227100?text=Halo%20Saya%20telah%20selesai%20mendaftar%20di%20SIPAMASE" target="_blank" rel="noopener noreferrer" aria-label="Verifikasi via WhatsApp ke 085221227100">
							<span style="vertical-align:middle;display:inline-block;margin-right:6px;">
								<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 32 32" aria-hidden="true" focusable="false"><circle cx="16" cy="16" r="16" fill="#25D366"/><path fill="#fff" d="M22.1 18.2c-.3-.2-1.7-.8-2-1-.3-.1-.5-.2-.7.2-.2.3-.8 1-.9 1.2-.2.2-.3.2-.6.1-.3-.2-1.2-.4-2.3-1.3-.8-.7-1.4-1.5-1.6-1.8-.2-.3 0-.4.1-.6.1-.1.2-.3.3-.4.1-.1.1-.2.2-.3.1-.1.1-.2.2-.3.1-.2.1-.3 0-.5-.1-.2-.7-1.7-.9-2.3-.2-.6-.4-.5-.6-.5h-.5c-.2 0-.5.1-.7.3-.2.2-.8.8-.8 2 0 1.2.8 2.4 1.1 2.8.3.4 1.6 2.5 3.9 3.4.5.2.9.3 1.2.4.5.2.9.2 1.2.1.4-.1 1.3-.5 1.5-1 .2-.5.2-.9.1-1.1z"/></svg>
							</span>
							0852-2122-7100 (WhatsApp)
						</a>
					</p>
				</div>
			</aside>
		</main>

		<footer>© Sistem Layanan - Demo Terhubung Spreadsheet</footer>
	</div>
</div>

<script>
	const SHEET_URL = "https://script.google.com/macros/s/AKfycbzgseWmoZv_qbQuI-0fV6vWSwdMUTqsL9qnjeN7KF2kG8nsZCEVcmghMY1P4G_ZovIJ/exec";

	async function sendToSheet(data) {
		try {
			await fetch(SHEET_URL, {
				method: "POST",
				mode: "no-cors",
				headers: { "Content-Type": "application/json" },
				body: JSON.stringify(data)
			});
			alert("✅ Data berhasil dikirim!");
		} catch (err) {
			alert("❌ Gagal mengirim data!");
			console.error(err);
		}
	}

	const tabs = document.querySelectorAll('.tab');
	const panels = document.querySelectorAll('.tabpanel');
	tabs.forEach(tab => {
		tab.addEventListener('click', () => {
			tabs.forEach(t => t.classList.remove('active'));
			tab.classList.add('active');
			panels.forEach(p => p.style.display = p.id === tab.dataset.tab ? 'block' : 'none');
		});
	});

	// --- LOGIKA REGISTRASI (Menggunakan ID unik: reg-...)
	document.getElementById("form-registrasi").addEventListener("submit", async e => {
		e.preventDefault();
		const fotoInput = document.getElementById("reg-foto");
		let fotoBase64 = "";
		if (fotoInput.files[0]) {
			fotoBase64 = await toBase64(fotoInput.files[0]);
		}

		const data = {
			jenis: "Registrasi",
			nama: document.getElementById("reg-nama").value,
			nip: document.getElementById("reg-nip").value,
			nik: document.getElementById("reg-nik").value,
			telepon: document.getElementById("reg-telepon").value,
			foto: fotoBase64
		};
		sendToSheet(data);
		e.target.reset();
	});

	// --- LOGIKA PERPANJANGAN (Menggunakan ID unik: per-...)
	document.getElementById("form-perpanjangan").addEventListener("submit", e => {
		e.preventDefault();
		const data = {
			jenis: "Perpanjangan",
			nama: document.getElementById("per-nama").value,
			nip: document.getElementById("per-nip").value,
			nik: document.getElementById("per-nik").value
		};
		sendToSheet(data);
		e.target.reset();
	});

	// --- LOGIKA PENCABUTAN (Menggunakan ID unik: cab-...)
	document.getElementById("form-pencabutan").addEventListener("submit", e => {
		e.preventDefault();
		const data = {
			jenis: "Pencabutan",
			nama: document.getElementById("cab-nama").value,
			nip: document.getElementById("cab-nip").value,
			nik: document.getElementById("cab-nik").value,
			alasan: document.getElementById("cab-alasan").value
		};
		sendToSheet(data);
		e.target.reset();
	});

	function toBase64(file) {
		return new Promise((resolve, reject) => {
			const reader = new FileReader();
			reader.readAsDataURL(file);
			reader.onload = () => resolve(reader.result);
			reader.onerror = error => reject(error);
		});
	}
</script>
</body>
</html>

